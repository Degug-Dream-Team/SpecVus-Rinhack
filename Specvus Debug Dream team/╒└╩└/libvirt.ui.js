<?php "use strict";$(document).ready(function(){$('.button-collapse').sideNav();$('.tooltipped').tooltip({delay:50});$('.materialboxed').materialbox();$('.dropdown-button').dropdown({inDuration:300,outDuration:225,constrainWidth:false,hover:true,gutter:0,belowOrigin:false,alignment:'left',stopPropagation:false});$('.modal').modal({dismissible:true,opacity:.5,inDuration:300,outDuration:200,startingTop:'4%',endingTop:'10%',ready:function(modal,trigger){console.group('Modal');console.info('Modal open.',modal,trigger);console.groupEnd();},complete:function(modal){console.group('Modal');console.info('Modal close.',modal);if(modal[0].id==='modal-connect'){var $c0=$('#connect-user'),$u1=$('#connect-host');if($c0.hasClass('valid')&&$u1.hasClass('valid')){console.log('do remote connection!',$c0,$u1);}else{console.log('do local connection.');}}console.groupEnd();}});$('a[href="#!"]').on('click',function(event){event.preventDefault();});$('.display-expand').on('click',function(event){event.preventDefault();$('#variable-container').toggleClass('container');});$('#uploadForm').on('submit',function(event){event.preventDefault();});$('#connectForm').on('submit',function(event){event.preventDefault();});$('input[name="connect-mode"]').on('change',function(event){var $h2=$('#connect-ssh');if(event.target.id==='connect-mode-ssh'){console.log('Connect mode "ssh" selected.',event,$h2);if(event.target.checked===true){console.log('Show input field.');$h2.show('slow');}}else{if($h2&&$h2.is(':visible')===true){console.log('Hide input field.');$h2.hide('slow');}}});if(window.location.search!==''){var params=new URLSearchParams(window.location.search);console.info('Parsed query:',params.toString());for(var p of params){console.log(p);}}if(params){switch(params.get('module')){case 'dsh':var elements=['cpu','mem','node','preview'];var delayedPolling=setTimeout(function(){var shortPolling=setInterval(function(){elements.forEach(function(value,index){if(value==='preview'){return;}console.info('Request data id:',index,'| type:',value);getJSONData(value);});},1000);clearTimeout(delayedPolling);$(window).one('unload',function(){clearInterval(shortPolling);});},100);var delayedPolling2=setTimeout(function(){var shortPolling2=setInterval(function(){elements.forEach(function(value,index){if(value!=='preview'){return;}$('.live-preview').each(function(){console.info('Request data id:',index,'| type:',value);getJSONData(value,$(this).data('vm'));});});},5000);clearTimeout(delayedPolling2);$(window).one('unload',function(){clearInterval(shortPolling2);});},100);break;case 'vms':var elements=['preview'];var delayedPolling=setTimeout(function(){var longPolling=setInterval(function(){elements.forEach(function(value,index){console.info('Request data id:',index,'| type:',value);$('.live-preview').each(function(){getJSONData(value,$(this).data('vm'));});});},5000);clearTimeout(delayedPolling);$(window).one('unload',function(){clearInterval(longPolling);});},100);break;case 'vmi':var elements=['vhostcpu','vcpu','vdsk','vmem','vnet','vhost'];var delayedPolling=setTimeout(function(){var shortPolling=setInterval(function(){elements.forEach(function(value,index){console.info('Request data id:',index,'| type:',value);getJSONData(value,params.get('name'));});},1000);clearTimeout(delayedPolling);$(window).one('unload',function(){clearInterval(shortPolling);});},100);break;default:break;}}});?>